<h2>Admin Panel</h2>
<div id="data"></div>

<script type="module">
import { auth, db } from "./firebase.js";
import { collection, onSnapshot } from 
"https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js";

auth.onAuthStateChanged(user=>{
  if(user?.email !== "admin@betluck.com"){
    alert("Admin only");
    location.href="login.html";
  }
});

onSnapshot(collection(db,"leaderboard"), snap=>{
  let html="";
  snap.forEach(d=>{
    html += `<p>${d.data().user} : ${d.data().score}</p>`;
  });
  document.getElementById("data").innerHTML = html;
});
</script>
