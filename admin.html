<!DOCTYPE html>
<html>
<head>
  <title>Admin</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="header">üîê Admin Panel</div>

<div style="padding:20px;text-align:center;" id="list"></div>

<script>
if(prompt("Admin Key")!=="ADMIN123"){ location.href="login.html"; }

let ws = JSON.parse(localStorage.getItem("withdraws"));
let html="<h3>Withdraw Requests</h3>";

ws.forEach((r,i)=>{
  html+=`<p>${r.id} ‚Çπ${r.amount} ${r.status}
  ${r.status==="PENDING"?`<button onclick="ok(${i})">Approve</button>`:""}
  </p>`;
});
list.innerHTML=html;

function ok(i){
  ws[i].status="APPROVED";
  localStorage.setItem("withdraws", JSON.stringify(ws));
  alert("Approved");
  location.reload();
}
</script>

</body>
</html>
