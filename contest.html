<!DOCTYPE html>
<html>
<head>
  <title>Contests</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="header">ðŸŽ¯ Contests</div>

<div class="wallet-bar">
  <span>ðŸ’° Wallet: â‚¹<span id="wallet"></span></span>
</div>

<div class="contests">
  <div class="contest-card"><h3>â‚¹5</h3><button onclick="playClick();start(5)">Play</button></div>
  <div class="contest-card"><h3>â‚¹10</h3><button onclick="playClick();start(10)">Play</button></div>
  <div class="contest-card"><h3>â‚¹50</h3><button onclick="playClick();start(50)">Play</button></div>
</div>

<div id="quizBox" style="display:none;">
  <h3 id="q"></h3>
  <input id="ans" placeholder="Answer">
  <button onclick="submit()">Submit</button>
</div>

<script src="sound.js"></script>
<script>
const user = JSON.parse(localStorage.getItem("user"));
wallet.innerText = user.wallet;

const qs = [
  {q:"5+5=?",a:"10"},
  {q:"10-3=?",a:"7"},
  {q:"Capital of India?",a:"delhi"},
  {q:"Sun is a?",a:"star"}
];

let right="", fee=0;

function start(f){
  if(user.wallet < f){ playLose(); alert("Low balance"); return; }
  fee=f; user.wallet-=f; wallet.innerText=user.wallet;
  const x = qs[Math.floor(Math.random()*qs.length)];
  right=x.a; q.innerText=x.q; quizBox.style.display="block";
}

function submit(){
  if(ans.value.toLowerCase().trim()==right){
    playWin(); alert("Won!");
    user.wallet+=20;
    const scores = JSON.parse(localStorage.getItem("scores"));
    scores.push({name:user.id, score:20});
    localStorage.setItem("scores", JSON.stringify(scores));
  } else { playLose(); alert("Wrong"); }
  localStorage.setItem("user", JSON.stringify(user));
  quizBox.style.display="none"; ans.value="";
}
</script>

</body>
</html>
